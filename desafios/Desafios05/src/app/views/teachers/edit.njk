{% extends "layout.njk" %}

{% block content %}
    
<div class="card">
        <section 
            class="avatar" style="background: url({{ teacher.avatar_url }}) no-repeat center center / cover ">
        </section>
        
        <section class="details">

            <form method="POST" action="/teachers?_method=PUT" >
                <h3>Editar</h3>

                {% include "teachers/fields.njk" %}

                <input 
                    type="hidden" 
                    name="id"
                    value={{teacher.id}}
                >
            </form>

            <form id="form-delete" method="POST" action="/teachers?_method=DELETE" >
                    <input 
                            type="hidden"
                            name="id"
                            value={{teacher.id}}
                    >
                    <button type="submit">Deletar</button>
                </form>           

        </section>

            <script>
                const formDelete = document.querySelector("#form-delete")

                formDelete.addEventListener("submit", function(event){
                const confirmation = confirm("Deseja Deletar?")           
                if(!confirmation){
                event.preventDefault()
                }
            })
        </script>
</div>
{% endblock %}